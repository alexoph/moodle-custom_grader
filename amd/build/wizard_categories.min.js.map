{"version":3,"sources":["../src/wizard_categories.js"],"names":["define","$","__sweet_alert","ELEMENT_TYPES","CATEGORY","ROW","PREDEFINED_SWEET_ALERT_OPTIONS","cancelButtonClass","confirmButtonColor","confirmButtonClass","getCourseId","informacionUrl","window","location","search","split","curso","i","length","swal","options","callback","swal_options","load_parent_category","id_course","id_element","type_e","ajax","type","data","course","element","url","success","msg","console","log","html","dataType","cache","error","deleteElement","id_e","type_ajax","id","courseid","createElement","aggParent","idParent","tipoItem","val","validateDataCat","name","trim","weigth","agg","getAggregation","prop","parent","fullname","agregation","tipo","peso","title","loadCategories","validateDataIt","validateDataParcial","index","aggregation","nombre","maxweight","show_delete_element_dialog","element_id","element_type","element_name","course_id","callback_on_success","titulo","text","showCancelButton","confirmButtonText","cancelButtonText","closeOnCancel","isConfirm","then","response","showConfirmButton","timer","catch","get_add_element_form","newDiv","load","toggle","init","old_weight","document","on","modal","backdrop","show","attr","hide","reload","hasClass","nom_text","replace","prev","new_nombre","new_peso","parseFloat","new_calif","parent_id","newNombre","newPeso","newCalific","children","next","append","add_element_form","setTimeout","numero","maxPeso","parseInt","e","tecla","all","keyCode","which","patron","tecla_final","String","fromCharCode","test"],"mappings":"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","sourcesContent":["/**\n* Wizard Categories management\n* @module local_customgrader/wizard_categories\n* @author Camilo José Cruz rivera\n* @copyright 2018 Camilo José Cruz Rivera <cruz.camilo@correounivalle.edu.co> \n* @license  http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n*/\n\ndefine([\n    'jquery',\n   /* 'local_customgrader/sweetalert',\n    'local_customgrader/bootstrap',\n    'local_customgrader/jqueryui'*/], function ($, __sweet_alert) {\n    var CONFIRMATION_BUTTON_COLOR = \"#d51b23\";\n    var ELEMENT_TYPES = {\n        CATEGORY : 'cat',\n        ROW: 'row',\n    };\n    var PREDEFINED_SWEET_ALERT_OPTIONS = {\n        cancelButtonClass: 'swal-button-cancel',\n        confirmButtonColor: CONFIRMATION_BUTTON_COLOR,\n        confirmButtonClass: 'swal-button-confirm'\n    };\n\n    /**\n     * @method getCourseId\n     * @desc Returns the id of the course obtained from the url\n     * @return {int} course_id\n     */\n    function getCourseId() {\n        var informacionUrl = window.location.search.split(\"=\");\n        var curso = -1;\n        for (var i = 0; i < informacionUrl.length; i += 2) {\n            if (informacionUrl[i] === \"?id\") {\n                curso = informacionUrl[i + 1];\n            }\n        }\n        return curso;\n    }\n\n    var swal = function (options, callback) {\n\n        var swal_options = {...options, ...PREDEFINED_SWEET_ALERT_OPTIONS };\n        return __sweet_alert(\n            swal_options,\n            callback\n        );\n    };\n\n\n    /**\n     * @method load_parent_category\n     * @desc Load parent categories options in a select\n     * @param {int} id_course\n     * @param {int} id_element\n     * @param {char} type_e\n     * @return {void}\n     */\n    function load_parent_category(id_course, id_element, type_e) {\n        $.ajax({\n            type: \"POST\",\n            data: {\n                course: id_course,\n                element: id_element,\n                type_e: type_e,\n                type: \"loadParentCat\"\n            },\n            url: \"managers/ajax_processing.php\",\n            success: function (msg) {\n                console.log(msg);\n                $('#padre').html(msg.html);\n            },\n            dataType: \"json\",\n            cache: \"false\",\n            error: function (msg) {\n                console.log('ajax error');\n                console.log(msg);\n            },\n        });\n\n    }\n\n    /**\n     * @method deleteElement\n     * @desc Delete an item or category\n     * @param {int} id_e\n     * @param {int} id_course\n     * @param {char} type_e\n     * @return {Promise}\n     */\n    var deleteElement = function (id_e, id_course, type_e) {\n        return $.ajax({\n            type: \"POST\",\n            data: {\n                type_ajax: \"deleteElement\",\n                id: id_e,\n                courseid: id_course,\n                type: type_e\n            },\n            dataType: \"json\",\n            cache: \"false\",\n            url: \"managers/ajax_processing.php\"\n        });\n    };\n\n\n\n\n    /**\n     * @method createElement\n     * @desc Validate info and using ajax create an element\n     * @param {int} aggParent\n     * @param {int} idParent\n     * @return {void}\n     */\n    function createElement(aggParent, idParent) {\n\n        var tipoItem = $(\"#tipoItem\").val();\n        var curso = getCourseId();\n\n        if (tipoItem == 'CATEGORÍA') {\n            if (validateDataCat(aggParent)) {\n                var name = $.trim($('#inputNombre').val());\n                var weigth = $('#inputValor').val();\n                var agg = getAggregation($('#tipoCalificacion').prop('selectedIndex'));\n                $.ajax({\n                    type: \"POST\",\n                    data: {\n                        course: curso,\n                        parent: idParent,\n                        fullname: name,\n                        agregation: agg,\n                        tipo: tipoItem,\n                        peso: weigth\n                    },\n                    url: \"managers/ajax_processing.php\",\n                    success: function (msg) {\n                        //se recibe el mensaje, si el ingreso fue exitoso entonces se recarga el combo de categorias padre\n                        if (msg == 1) {\n\n                            swal({\n                                title: \"Categoria añadida con exito\",\n                                html: true,\n                                type: \"success\",\n                                confirmButtonColor: CONFIRMATION_BUTTON_COLOR\n                            });\n                            loadCategories(curso);\n                        }\n                        else if (msg == 0) {\n                            //si no fue exitosa la creacion se envia el mensaje de alerta\n                            swal({\n                                title: \"Error al añadir la categoria (server error)\",\n                                html: true,\n                                type: \"error\",\n                                confirmButtonColor: CONFIRMATION_BUTTON_COLOR\n                            });\n                        }\n\n                    },\n                    cache: \"false\",\n                    error: function (msg) {\n                        swal({\n                            title: \"Error al intentar añadir la categoria\",\n                            html: true,\n                            type: \"error\",\n                            confirmButtonColor: CONFIRMATION_BUTTON_COLOR\n                        });\n                        console.log(msg);\n                    },\n                });\n            }\n        }\n        else if (tipoItem == 'ÍTEM') {\n            if (validateDataIt(aggParent)) {\n                var name = $.trim($('#inputNombre').val());\n                var weigth = $('#inputValor').val();\n                $.ajax({\n                    type: \"POST\",\n                    data: {\n                        course: curso,\n                        parent: idParent,\n                        fullname: name,\n                        tipo: tipoItem,\n                        peso: weigth\n                    },\n                    url: \"managers/ajax_processing.php\",\n                    success: function (msg) {\n                        //se recibe el mensaje, si el ingreso fue exitoso entonces se recarga el combo de categorias padre\n                        if (msg == 1) {\n                            swal({\n                                title: \"item añadido con exito\",\n                                html: true,\n                                type: \"success\",\n                                confirmButtonColor: CONFIRMATION_BUTTON_COLOR\n                            });\n                            loadCategories(curso);\n                        }\n                        else if (msg == 0) {\n                            swal({\n                                title: \"Error al añadir el item (server error)\",\n                                html: true,\n                                type: \"error\",\n                                confirmButtonColor: CONFIRMATION_BUTTON_COLOR\n                            });\n                        }\n\n                    },\n                    cache: \"false\",\n                    error: function (msg) {\n                        swal({\n                            title: \"Error al intentar añadir el item\",\n                            html: true,\n                            type: \"error\",\n                            confirmButtonColor: CONFIRMATION_BUTTON_COLOR\n                        });\n                        console.log(msg);\n                    },\n                });\n            }\n        }\n        else if (tipoItem == 'PARCIAL') {\n            if (validateDataParcial(aggParent)) {\n                var name = $.trim($('#inputNombre').val());\n                var weigth = $('#inputValor').val();\n                $.ajax({\n                    type: \"POST\",\n                    data: {\n                        course: curso,\n                        parent: idParent,\n                        fullname: name,\n                        agregation: 6,\n                        tipo: tipoItem,\n                        peso: weigth\n                    },\n                    url: \"managers/ajax_processing.php\",\n                    success: function (msg) {\n                        //se recibe el mensaje, si el ingreso fue exitoso entonces se recarga el combo de categorias padre\n                        if (msg == 1) {\n\n                            swal({\n                                title: \"Categoria añadida con exito\",\n                                html: true,\n                                type: \"success\",\n                                confirmButtonColor: CONFIRMATION_BUTTON_COLOR\n                            });\n                            loadCategories(curso);\n                        }\n                        else if (msg == 0) {\n                            //si no fue exitosa la creacion se envia el mensaje de alerta\n                            swal({\n                                title: \"Error al añadir la categoria (server error)\",\n                                html: true,\n                                type: \"error\",\n                                confirmButtonColor: CONFIRMATION_BUTTON_COLOR\n                            });\n                        }\n\n                    },\n                    cache: \"false\",\n                    error: function (msg) {\n                        swal({\n                            title: \"Error al intentar añadir la categoria\",\n                            html: true,\n                            type: \"error\",\n                            confirmButtonColor: CONFIRMATION_BUTTON_COLOR\n                        });\n                        console.log(msg);\n                    },\n                });\n            }\n        }\n        else {\n            swal({\n                title: \"Seleccione el tipo de elemento que desea crear\",\n                html: true,\n                type: \"warning\",\n                confirmButtonColor: CONFIRMATION_BUTTON_COLOR\n            });\n        }\n\n\n    }\n\n    function getAggregation(index) {\n        switch (index) {\n            case 1:\n                return 0;\n                break;\n            case 2:\n                return 10;\n                break;\n        }\n    }\n\n    /**\n     * @method validateDataIt\n     * @desc Validate information when creating an Item\n     * @param {int} aggregation\n     * @return {void}\n     */\n    function validateDataIt(aggregation) {\n        var nombre = $.trim($('#inputNombre').val());\n        if (nombre === '') {\n            swal({\n                title: \"Ingrese el nombre del ítem que desea crear\",\n                html: true,\n                type: \"warning\",\n                confirmButtonColor: CONFIRMATION_BUTTON_COLOR\n            });\n            return false;\n        }\n        if (aggregation === 10) {\n            var peso = $('#inputValor').val();\n            if (peso === '') {\n                swal({\n                    title: \"Ingrese un peso válido entre 0 y \" + maxweight,\n                    html: true,\n                    type: \"warning\",\n                    confirmButtonColor: CONFIRMATION_BUTTON_COLOR\n                });\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    /**\n     * @method validateDataParcial\n     * @desc Validate information when creating parcial category\n     * @param {int} aggregation\n     * @return {void}\n     */\n    function validateDataParcial(aggregation) {\n        var nombre = $.trim($('#inputNombre').val());\n        if (nombre === '') {\n            swal({\n                title: \"Ingrese el nombre del parcial que desea crear\",\n                html: true,\n                type: \"warning\",\n                confirmButtonColor: CONFIRMATION_BUTTON_COLOR\n            });\n            return false;\n        }\n        if (aggregation === 10) {\n            var peso = $('#inputValor').val();\n            if (peso == '') {\n                swal({\n                    title: \"Ingrese un peso válido entre 0 y \" + maxweight,\n                    html: true,\n                    type: \"warning\",\n                    confirmButtonColor: CONFIRMATION_BUTTON_COLOR\n                });\n                return false;\n            }\n        }\n\n        return true;\n    }\n    /**\n     * @method loadCategories\n     * @desc Load categories and items in the wizard\n     * @param {int} id_course\n     * @return {void}\n     */\n    function loadCategories(id) {\n        $.ajax({\n            type: \"POST\",\n            data: {\n                course: id,\n                type: \"loadCat\"\n            },\n            url: \"managers/ajax_processing.php\",\n            success: function (msg) {\n                $(\"#mymodalbody\").html(msg);\n            },\n            dataType: \"text\",\n            cache: \"false\",\n            error: function (msg) {\n                console.log(msg);\n            },\n        });\n    }\n    /**\n     * @method validateDataCat\n     * @desc Validate information when creating category\n     * @param {int} aggregation\n     * @return {void}\n     */\n    function validateDataCat(aggregation) {\n        if ($('#tipoCalificacion').prop('selectedIndex') == 0) {\n            swal({\n                title: \"Seleccione el tipo de calificación de la categoría que desea crear\",\n                html: true,\n                type: \"warning\",\n                confirmButtonColor: CONFIRMATION_BUTTON_COLOR\n            });\n            return false;\n        }\n        var nombre = $.trim($('#inputNombre').val());\n        if (nombre == '') {\n            swal({\n                title: \"Ingrese el nombre de la categoría que desea crear\",\n                html: true,\n                type: \"warning\",\n                confirmButtonColor: CONFIRMATION_BUTTON_COLOR\n            });\n            return false;\n        }\n        if (aggregation == 10) {\n            var peso = $('#inputValor').val();\n            if (peso == '') {\n                swal({\n                    title: \"Ingrese un peso válido entre 0 y \" + maxweight,\n                    html: true,\n                    type: \"warning\",\n                    confirmButtonColor: CONFIRMATION_BUTTON_COLOR\n                });\n                return false;\n            }\n        }\n        else {\n\n        }\n        return true;\n    }\n\n    /**\n     *\n     * @param element_id\n     * @param element_type\n     * @param element_name\n     * @param course_id\n     * @param callback_on_success Optional callback to be executed on success delete element\n     * @returns {*}\n     */\n    var show_delete_element_dialog = function (element_id, element_type, element_name, course_id, callback_on_success) {\n        var tipo = 'No seleccionado';\n        if (element_type === ELEMENT_TYPES.CATEGORY) {\n             tipo = \"la categoria: \" + element_name;\n        } else {\n            tipo = \"el item: \" + element_name;\n        }\n        var titulo = \"Esta seguro que desea eliminar \" + tipo + \"?\";\n        return swal({\n                title: titulo,\n                text: \"Tenga en cuenta que NO SE PODRAN RECUPERAR ninguna de la notas que haya registrado en este elemento una vez borrado!\",\n                type: \"warning\",\n                showCancelButton: true,\n                confirmButtonClass: \"btn-danger\",\n                confirmButtonText: \"Aceptar, Borrar \" + tipo,\n                cancelButtonText: \"Cancelar\",\n                closeOnCancel: true\n            },\n            (isConfirm) => {\n                if (isConfirm) {\n                    console.log('pos si0');\n                    return deleteElement(element_id, course_id, element_type)\n                        .then(response => {\n                            swal({\n                                title: \"Listo\",\n                                text: response.msg,\n                                type: \"success\",\n                                showCancelButton: false,\n                                showConfirmButton: false,\n                                timer: 2400,\n                            });\n\n                            loadCategories(course_id);\n                            if(callback_on_success) {\n                                callback_on_success();\n                            }\n                        })\n                        .catch(response=> {\n                            console.log(response);\n                        });\n                } else {\n                    swal({\n                        title: \"Cancelado\",\n                        type: \"error\",\n                        showCancelButton: false,\n                        showConfirmButton: false,\n                        timer: 1200,\n                    });\n                    return false;\n                }\n            });\n    };\n\n    var get_add_element_form = function () {\n        var newDiv = $(\"<div class = 'divForm' style= 'display:none'>\");\n        newDiv.load(\"templates/categories_form.html\");\n        newDiv.toggle('slow', 'swing');\n        return newDiv;\n    };\n\n    return {\n        deleteElement: deleteElement,\n        getCourseId: getCourseId,\n        get_add_element_form: get_add_element_form,\n        show_delete_element_dialog: show_delete_element_dialog,\n        ELEMENT_TYPES: ELEMENT_TYPES,\n        init: function () {\n            var old_weight;\n            var maxweight;\n \n            //Metodos de Wizard de crear categorias e items\n\n            $(document).on('click', '#wizard_button', function () {\n                $(\"#modalCategories\").modal({\n                    backdrop: false\n                });\n                $('.fondo').show();\n            });\n\n            $(document).on('click', '#tutorial-button', function (){\n                $('#video-frame').attr('src', 'https://www.youtube.com/embed/8Bm_obAFBYo');\n                $(\"#tutorialModal\").modal({\n                    backdrop: false\n                });\n                $('.fondo').show();\n                \n            });\n\n            $(document).on('click', '#close-tutorial', function() {                \n                $('.fondo').hide();\n            });\n\n            $('#tutorialModal').on('hidden.bs.modal', function (e) {\n                $('#video-frame').attr('src', '');\n            });\n\n            /**\n             * Event to close modal\n             */\n            $(document).on('click','#cancel', function () {\n                $('.fondo').hide();\n            });\n            $(document).on('click', '.mymodal-close', function () {\n                location.reload();\n            });\n\n            /**\n             * Event to open edit modal and load all information\n             */\n            $(document).on('click', '.edit', function () {\n                //se carga titulo (item o categoria)\n                var titulo = $(this).attr('title');\n                $(\"#titulo\").text(titulo);\n\n                var curso = false;\n\n                $(\"#nombre_editar\").show();\n                $(\"#label_nombre\").show();\n                $('#alta').show();\n                $('#div_padres').show();\n\n                if ($(this).hasClass('curso')) {\n                    curso = true;\n                    $('#alta').hide();\n                    $(\"#nombre_editar\").hide();\n                    $(\"#label_nombre\").hide();\n                    $('#div_padres').hide();\n                }\n\n                //se carga la informacion del elemento\n                var id_course = getCourseId();\n                var id_element = $(this).attr('id');\n                $('#save_edit').attr('name', id_element);\n\n                //se evalua si el elemento es item o categoria\n                if (titulo === \"Editar Categoría\") {\n                    $('#type_cal').show();\n                    var tipo = $(this).parent().parent().attr('id');\n                    $('#otro').hide();\n                    if (tipo != 10 && tipo != 0 && tipo != 6) {\n                        tipo = 99;\n                        $('#otro').show();\n                    }\n                    $('#calific').prop('value', tipo);\n                    var type =  ELEMENT_TYPES.CATEGORY;\n                    var nombre = $(this).parent().parent().text();\n                    if (nombre.search(\"-\") == -1) {\n                        var nom_text = nombre.split(\"(\");\n                        nombre = nom_text[0];\n                        peso = nom_text[1];\n                        if (!curso) {\n                            $('#peso').show();\n                        }\n                        peso = peso.replace('(', '');\n                        peso = peso.replace(')', '');\n                        peso = peso.replace(' ', '');\n                        peso = peso.replace('%', '');\n                        old_weight = peso;\n                        $('#peso_editar').val(peso);\n\n                        var maxweight = $(this).attr('data-maxweight');\n                        $('.maxweight-edit').attr('id', maxweight);\n                    } else {\n                        nombre = nombre.split(\"-\")[0];\n                        $('#peso').hide();\n                    }\n                } else {\n                    //se oculta el tipo de calificacion\n                    $('#type_cal').hide();\n                    //se carga el peso de tenerlo\n                    var peso = $(this).parent().parent().prev().text();\n                    if (peso == '-') {\n                        $('#peso').hide();\n                        $('#peso_editar').val(peso);\n                    } else {\n                        $('#peso').show();\n                        peso = peso.replace('(', '');\n                        peso = peso.replace(')', '');\n                        peso = peso.replace(' ', '');\n                        peso = peso.replace('%', '');\n                        old_weight = peso;\n                        $('#peso_editar').val(peso);\n\n                        var maxweight = $(this).parent().attr('id');\n                        $('.maxweight-edit').attr('id', maxweight);\n                    }\n                    var type = 'it';\n                    var nombre = $(this).parent().parent().prev().prev().attr('title');\n\n                    //Se evalua si es una asignacion para no dejar modificar el nombre\n                    if (nombre == 'Enlazar a la actividad Tarea') {\n                        $(\"#nombre_editar\").hide();\n                        $(\"#label_nombre\").hide();\n                    }\n                }\n                //se carga el nombre\n                $(\"#nombre_editar\").val(nombre);\n\n                //se cargan las categorias seleccionando la categoria padre del elemento\n                load_parent_category(id_course, id_element, type);\n                //se abre el modal\n                $(\"#edit\").modal({\n                    backdrop: false\n                });\n                $('.fondo').show();\n\n            });\n\n            /**\n             * Event to save changes on edit modal validating all data\n             */\n            $(document).on('click', '#save_edit', function () {\n                var id_element = $(this).attr(\"name\");\n                var new_nombre = $(\"#nombre_editar\").val();\n                var new_peso = $('#peso_editar').val();\n                var maxweight = parseFloat($('.maxweight-edit').attr('id')) + parseFloat(old_weight);\n                var new_calif = $('#calific').val();\n                var parent_id = $('#padre').val();\n\n                if (new_peso == '-') {\n                    new_peso = 0;\n                }\n\n                if (new_calif == '99') {\n                    swal({\n                        title: \"Tipo de Calificacion no valida.\",\n                        text: \"No es posible editar una categoria con un tipo de calificacion diferente a Promedio Simple, Promedio Ponderado, o Calificacion mas alta.\\n Por favor seleccione uno de estos tipos de calificacion\",\n                        html: true,\n                        type: \"warning\",\n                        confirmButtonColor: CONFIRMATION_BUTTON_COLOR\n                    });\n                    return;\n                }\n\n\n                if (new_peso > maxweight) {\n                    swal({\n                        title: \"Peso no valido.\",\n                        text: \"El peso ingresado supera el peso máximo posible de la categoria padre que es: \" + maxweight + \"% \\n Para crear un nuevo elemento primero configure los pesos de los demas.\",\n                        html: true,\n                        type: \"warning\",\n                        confirmButtonColor: CONFIRMATION_BUTTON_COLOR\n                    });\n                    return;\n                }\n\n                if (new_nombre == '') {\n                    swal({\n                        title: \"Ingrese el nuevo nombre del elemento\",\n                        html: true,\n                        type: \"warning\",\n                        confirmButtonColor: CONFIRMATION_BUTTON_COLOR\n                    });\n                    return;\n                }\n\n                var titulo = $('#titulo').text();\n                if (titulo.split(' ')[1] == 'Ítem') {\n                    var type_e = \"it\";\n                    new_calif = false;\n                } else {\n                    type_e = ELEMENT_TYPES.CATEGORY;\n                }\n\n                var course_id = getCourseId();\n                $.ajax({\n                    type: \"POST\",\n                    data: {\n                        course: course_id,\n                        element: id_element,\n                        type_e: type_e,\n                        newNombre: new_nombre,\n                        newPeso: new_peso,\n                        newCalific: new_calif,\n                        type: \"editElement\",\n                        parent: parent_id\n                    },\n                    url: \"managers/ajax_processing.php\",\n                    success: function (msg) {\n                        if (msg.error) {\n                            swal('Error',\n                                msg.error,\n                                'error');\n                        } else {\n                            swal({\n                                title: \"Listo\",\n                                text: msg.msg,\n                                type: \"success\",\n                                showCancelButton: false,\n                                showConfirmButton: false,\n                                timer: 1300,\n                            });\n                            $(\"#edit\").modal('hide');\n                            $('.fondo').hide();\n                            loadCategories(course_id);\n                            console.log(msg);\n                        }\n                    },\n                    dataType: \"json\",\n                    cache: \"false\",\n                    error: function (msg) {\n                        swal('Server Error',\n                                msg.error,\n                                'error');\n                        console.log(\"AJAXerror\");\n                        console.log(msg);\n                    },\n                });\n            });\n\n            /**\n             * Event to confirm the deletion of an item or a category \n             */\n            $(document).on('click', '.delete', function () {\n                var element = $(this).parent().parent().parent().attr('id').split('_');\n                var course_id = getCourseId();\n                var element_name = $(this).attr(\"data-name\");\n                var element_id = element[1];\n                var element_type= element[0];\n                show_delete_element_dialog(element_id, element_type, element_name, course_id);\n\n            });\n\n            $(document).on(\"click\", \".new\", function () {\n                maxweight = $(this).parent().parent().children().next('.maxweight').attr('id');\n                if (maxweight <= 0) {\n                    swal({\n                        title: \"No se pueden crear mas categorías o ítems en la categoria seleccionada.\",\n                        text: \"\\n\\r El peso de los elementos dentro de ésta suma 100%.\\n\\r Para crear un nuevo elemento primero configure los pesos de los demas.\",\n                        html: true,\n                        type: \"warning\",\n                        confirmButtonColor: CONFIRMATION_BUTTON_COLOR\n                    });\n                    return;\n                }\n                $('.new').prop('disabled', true);\n                $('.delete').prop('disabled', true);\n                $('.edit').prop('disabled', true);\n\n\n\n                var parent = $(this).parent().parent();\n                parent.append('<hr style = \"margin: 6px 0;border-top: 1px solid #ddd\">');\n                var add_element_form = get_add_element_form();\n                parent.append(add_element_form);\n\n                window.setTimeout(function () {\n\n                    var agg = parent.attr(\"id\");\n\n                    if (agg == 10) { //if is ponderated\n                        $(\"#divPeso\").show();\n                        $(\"#inputValor\").on('blur', function () {\n                            //se revisa que el elemento digitado cumpla con las restricciones\n                            var numero = $(this).val();\n                            var maxPeso = parseInt($(this).parent().parent().parent().parent().children().next('.maxweight').attr('id'));\n                            //si no cumple con la restriccion de estar entre 0 y 100 entonces se realiza el aviso y se pone el valor en 0\n                            if (numero < 0 || numero > maxPeso) {\n                                swal({\n                                    title: \"El valor debe estar entre 0 y el peso máximo: \" + maxPeso,\n                                    text: \"\\n\\rUsted ingresó: \" + numero,\n                                    html: true,\n                                    type: \"warning\",\n                                    confirmButtonColor: CONFIRMATION_BUTTON_COLOR\n                                });\n                                $(this).val('');\n                            }\n                        });\n                        $('#inputValor').on('keypress', function (e) {\n                            var tecla = (document.all) ? e.keyCode : e.which;\n\n                            //Tecla de retroceso para borrar y el punto(.) siempre la permite\n                            if (tecla == 8 || tecla == 46) {\n                                return true;\n                            }\n                            // Patron de entrada, en este caso solo acepta numeros\n                            var patron = /[0-9]/;\n                            var tecla_final = String.fromCharCode(tecla);\n                            return patron.test(tecla_final);\n\n                        });\n                    }\n\n                    $(\"#tipoItem\").on('change', function () {\n                        var index = $(this).prop('selectedIndex');\n                        if (index == 1) {\n                            $('#divTipeC').show();\n                        }\n                        else {\n                            $('#divTipeC').hide();\n                        }\n                    });\n\n                    $('#save').on('click', function () {\n                        var agg = $(this).parent().parent().parent().parent().attr(\"id\");\n                        var parent = $(this).parent().parent().parent().parent().parent().attr(\"id\");\n                        parent = parent.split('_')[1];\n                        createElement(agg, parent);\n                    });\n\n                    $('#cancel').on('click', function () {\n                        var id = getCourseId();\n                        loadCategories(id);\n                    });\n                }, 400);\n            });\n\n\n\n\n        }\n    };\n});\n\n"],"file":"wizard_categories.min.js"}